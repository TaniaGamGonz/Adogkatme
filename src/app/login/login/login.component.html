<main class="height-100">
  <div class="container container--login">
    <!--Formulario de logeo-->
    <h1 class="h1">Login</h1>
    <form action="..." class="form__login" #loginForm="ngForm" (ngSubmit)="onSubmit(email, password)">
      <div class="form-group form-group--login">
        <tooltip *ngIf="email?.touched && !email?.valid">Correo incorrecto!</tooltip>
        <input
        type="email"
        name="email"
        autocomplete="on"
        [(ngModel)]="login.email"
        #email="ngModel"
        required
        email
        id="email"
        placeholder=" "
        class="form-group__control form-group__control--login"
        [ngClass]="{'form-group__control--success': email?.valid, 'form-group__control--danger': email?.touched && !email?.valid }" >
        <label for="email" class="form-group__label form-group__label--inside">Introduce tu
          correo</label>
      </div>
      <div class="form-group form-group--login">
        <tooltip *ngIf="password?.touched && !password?.valid" >Contraseña incorrecta!</tooltip>
        <input
        type="password"
        name="password"
        [(ngModel)]="login.password"
        #password="ngModel"
        autocomplete="on"
        required
        id="password"
        placeholder=" "
        class="form-group__control form-group__control--login"
        [ngClass]="{'form-group__control--success': password?.valid, 'form-group__control--danger': password?.touched && !password?.valid }"
        >
        <label for="password" class="form-group__label form-group__label--inside">Introduce tu
          contraseña</label>
      </div>
      <p class="loginError" *ngIf="loginError">
        Error en las credenciales
      </p>
      <div class="align--column">
        <a class="link" (click)="toggleModal()">¿Has olvidado tu contraseña?</a>
        <button type="submit" class="btn btn--sm" [disabled]="!loginForm.valid">Inicia sesión</button>
      </div>
    </form>
    <a class="btn btn--fb"  role="button">Inicia sesión con</a>
    <div class="align--row">
      <span>¿Todavía no tienes una cuenta?</span>
      <a routerLink='/registro'  class="link link--login">Regístrate</a>
    </div>
  </div>
</main>

<modal [nombre]="modalToken">
  <h3 class="modal__title">Recupera tu contraseña</h3>
  <a rol="button" class="modal__close link" (click)="toggleModal()">&times;</a>
  <p class="modal__info">Escribenos tu e-mail y te enviaremos un correo de recuperación</p>
  <form action="" #modalForm="ngForm" (ngSubmit)="modalSubmit(recoverEmail)">
    <div class="form-group">
      <tooltip *ngIf="recoverEmail.touched && recoverEmail.invalid">Correo incorrecto!</tooltip>
      <label for="recoverEmail" class="form-group__label">Email</label>
      <input
      type="email"
      email
      required
      [(ngModel)]="modalForm.recoverEmail"
      #recoverEmail="ngModel"
      name="recoverEmail"
      id="recoverEmail"
      class="form-group__control"
      [ngClass]="{'form-group__control--success': recoverEmail?.valid, 'form-group__control--danger': recoverEmail?.touched && !recoverEmail?.valid }"
      >
    </div>
    <button type="submit" [disabled]="!modalForm.valid" class="btn">Recuperar</button>
  </form>
</modal>




